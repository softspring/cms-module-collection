{% import '@SfsCms/macros/modules_edit.html.twig' as module %}

<section {{ module.link_id(form.id) }} {{ module.link_class(form.class, 'sfs-two-columns py-5') }} {{ module.link_bg_color(form.bg_color) }}>
    <div class="container">
        <div {{ module.link_class(form.image_position_text, 'row') }}>
            <div class="col-12 col-md-6">
                {% for locale,localeField in form.module_image %}
                    <div data-media-preview-target="moduleImage.{{ locale }}" data-lang="{{ locale }}">
                        {% if localeField.vars.data.media|default(false) %}
                            {{ localeField.vars.data.media|sfs_media_render(localeField.vars.data.version, localeField.media.vars.image_attr) }}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            <div class="col-12 col-md-6">
                {% set titleType = form.title_type.vars.data|default('h2') %}
                {% for locale,localeField in form.title %}
                    <{{ titleType }} data-cms-module-title-type="" {{ module.link_class(form.title_class, 'sfs-two-columns__title') }} {{ module.link_content(localeField) }}>
                        {{ localeField.vars.data|default|raw }}
                    </{{ titleType }}>
                {% endfor %}
                <div class="sfs-two-columns__desc">
                    {% for locale,localeField in form.description %}
                        <div class="wysiwyg-preview"
                             {{ module.link_content(localeField, locale, false) }}
                             data-bs-toggle="modal"
                             data-bs-target="#{{ id }}Modal">{{ localeField.vars.data|raw }}</div>
                    {% endfor %}
                </div>

                {% for locale,localeField in form.primary_button_text %}
                <div class="sfs-two-columns__cta">
                    <a href="#" class="btn btn-primary" {{ module.link_content(localeField, locale, true, 'two_columns.form.primary_button_text.placeholder') }}>
                        {{ localeField.vars.data|default }}
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="{{ id }}Modal" data-wysiwyg-modal data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="{{ id }}ModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Two columns description</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    {% for locale,localeField in form.description %}
                        <div {{ module.link_content(localeField, locale, false) }}>
                            {{ form_row(localeField,{'attr':{'data-initial-value' : form.description.children[locale].vars.value }}) }}
                        </div>
                    {% endfor %}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Done</button>
                </div>
            </div>
        </div>
    </div>
</section>
